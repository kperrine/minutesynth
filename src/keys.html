<!DOCTYPE html>
<html>
<head>
<style>
.keyBorder {
    width: 30em;
    height: 12em;
    padding-left: 3%;
    padding-right: 3%;
    position: relative;
    border-color: black;
    border-width: 0.75pt;
    background-color: gray;
}
.keyArea {
  margin: 0;
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  width: 80%;
  height: 80%;
}
.whiteKey {
    top: 0;
    height: 100%;
    width: 12.5%;
    border-width: 1pt;
    border-color: black;
    border-style: solid;
    background-color: white;
    position: absolute;
    z-index: 1;
}
.whitePressed {
    background-color: gray;
}
.blackKey {
    top: 0;
    height: 60%;
    width: 8%;
    border-width: 1pt;
    border-color: black;
    border-style: solid;
    background-color: black;
    position: absolute;
    z-index: 2;
}
.blackPressed {
    background-color: gray;
}
#cN {
    left: 0%;
}
#cS {
    left: 8%;
}
#dN {
    left: 12.5%;
}
#dS {
    left: 21.5%;
}
#eN {
    left: 25%;
}
#fN {
    left: 37.5%;
}
#fS {
    left: 45.5%;
}
#gN {
    left: 50%;
}
#gS {
    left: 58.5%;
}
#aN {
    left: 62.5%;
}
#aS {
    left: 71.5%;
}
#bN {
    left: 75%;
}
#cH {
    left: 87.5%;
}
</style>
<script>
"use strict";

const MAPPING = {cn: 0, cs: 1, dN: 2, dS: 3, eN: 4, fN: 5, fS: 6,
    gN: 7, gS: 8, aN: 9, aS: 10, bN: 11, cH: 12
}
function highlightKey(keyID, activate) {
    if (!(keyID in MAPPING)) {
        return
    }
    const element = document.getElementById(keyID)
    if ("whiteKey" in element.classList) {
        if (activate) {
            element.classList.add("whitePressed")
        }
        else {
            element.classList.remove("whitePressed")
        }
    }
    else if ("blackKey" in element.classList) {
        if (activate) {
            element.classList.add("blackPressed")
        }
        else {
            element.classList.remove("blackPressed")
        }
    }
}
function init() {
    let currentID = ""
    let activeID = ""
    document.addEventListener('mousemove', event => {
        const underElement = document.elementFromPoint(event.clientX, event.clientY)        
        currentID = ""
        if (underElement.id in MAPPING) {
            currentID = underElement.id
        }
        if (currentID !== "") {
            if (activeID !== "" && activeID != currentID) {
                console.log(`Activating Key: ${MAPPING[currentID]}`)
                highlightKey(activeID, false)
                highlightKey(currentID, true)
                activeID = currentID
            }
        }
    })
    document.addEventListener('mousedown', event => {
        if (currentID !== "") {
            console.log(`Activating Key: ${MAPPING[currentID]}`)
            highlightKey(currentID, true)
            activeID = currentID
        }
    })
    document.addEventListener('mouseup', event => {
        if (activeID !== "") {
            console.log(`Deactivating Key: ${MAPPING[activeID]}`)
            highlightKey(activeID, false)
            activeID = ""
        }        
    })
}

</script>
</head>
<body onload="init();">

<h1>Keyboard</h1>
<p>Here is a keyboard.</p>
<div class="keyBorder"><div class="keyArea">
    <div class="whiteKey" id="cN"></div>
    <div class="blackKey" id="cS"></div>
    <div class="whiteKey" id="dN"></div>
    <div class="blackKey" id="dS"></div>
    <div class="whiteKey" id="eN"></div>
    <div class="whiteKey" id="fN"></div>
    <div class="blackKey" id="fS"></div>
    <div class="whiteKey" id="gN"></div>
    <div class="blackKey" id="gS"></div>
    <div class="whiteKey" id="aN"></div>
    <div class="blackKey" id="aS"></div>
    <div class="whiteKey" id="bN"></div>
    <div class="whiteKey" id="cH"></div>
</div></div>
<p>That's it.</p>

</body>
</html>